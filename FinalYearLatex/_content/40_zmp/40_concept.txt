Zero Moment Point locomotion stems from the dynamic analysis of a humanoid robot walking.
This is first explored by Miomir Vukobratović in 1968 \citep{vukobratovi_1968_contribution}. 
Vukobratović later simplified this work to a static analysis of the relationship between
the robot's foot and the ground, coining the term `Zero Moment Point'
\citep{vukobratovi_1972_on}. The following is the process 
of deriving the `Zero Moment Point' (ZMP), sourced from Vukobratović's reflection 
on his development \citep{vukobratovi_2004_zeromoment} and the impact it has had on the field of 
humanoid robotics.

In the single support phase, the robot's foot is planted firmly upon the ground 
with the entire sole in contact with it.
It is assumed that there is sufficient friction to prevent the foot from moving. Thus, 
the system is in some form of static equilibrium. The state of the robot above
the ankle, including the CoM, is simplified to a force, $\mathbf{F_{A}}$, and moment,
$\mathbf{M_{A}}$, acting at the ankle. This is presented in Figure~\ref{fig:ZMP1}, 
with the support polygon shown in green. The support polygon contains the CoM of the 
foot itself at $\mathbf{G}$, with some mass $m_f$. The Zero Moment Point, $\mathbf{P}$, at which reaction 
$\mathbf{R_{xyz}}$ occurs is also contained within the support polygon. 
All moment, force, and position vectors are referenced from base coordinate system $\mathbf{B}$.

\begin{figure}[!h]
    \begin{center}
        \includegraphics[width=.65\linewidth]{_content/40_zmp/fig_ZMP_PIC3D.png}
        \caption{3D Zero Moment Point derivation.}\label{fig:ZMP1}
    \end{center}
\end{figure}

In order to maintain static equilibrium, the $Y$ component of $\mathbf{M_{A}}$ must be
balanced by the moment of friction forces, in the $XZ$ plane, about the $Y$ axis.
Additionally, horizontal reaction forces at point $\mathbf{P}$, $R_x$ and $R_z$, must balance
the horizontal components of $\mathbf{F_{A}}$. These horizontal reactions
are also a result of friction between the support polygon and the ground. Thus, for the 
system to be in equilibrium the sum of forces at the base coordinate system, equation~\eqref{eq:ZMPF}, 
and the sum of moments about the base coordinate system, equation~\eqref{eq:ZMPM},  must be zero.

\begin{align}
    \mathbf{0}  &= \mathbf{F_{A}}                   + \mathbf{R_{xyz}}                  + {\begin{bmatrix} 0 \\ -m_{f}g \\ 0 \end{bmatrix}}                                     \label{eq:ZMPF}        \\
    \mathbf{0}  &= \vec{BA} \times \mathbf{F_{A}}   + \vec{BP} \times \mathbf{R_{xyz}}  + \vec{BG} \times {\begin{bmatrix} 0 \\ -m_{f}g \\ 0 \end{bmatrix}} - \mathbf{M_{A}}    \label{eq:ZMPM}        \\
\end{align}

If the base coordinate system is located at the CoM of the foot equation~\eqref{eq:ZMPM} is 
reduced to equation following;

\begin{equation}
    \mathbf{0} = \vec{BA} \times \mathbf{F_{A}} + \vec{BP} \times \mathbf{R_{xyz}} - \mathbf{M_{A}}.
\end{equation}~\label{eq:ZMP_M2}

As the horizontal components of $\mathbf{R_{xyz}}$ balance the horizontal components of $\mathbf{F_{A}}$,
all that remains is the vertical component, and thus it can be clearly seen that $R_y = m_{f}g + F_{\mathbf{A}y}$.

\begin{figure}[!h]
    \begin{center}
        \includegraphics[width=.8\linewidth]{_content/40_zmp/fig_ZMP_ISO2D.png}
        \caption{2D Zero Moment Point, examining $\mathbf{P}$.}\label{fig:ZMP2}
    \end{center}
\end{figure}

As $R_y$ is constant the only way to balance either equation~\eqref{eq:ZMPM} or equation~\eqref{eq:ZMP_M2} is by
shifting the position of $\mathbf{P}$. This is clearly seen in Figure~\ref{fig:ZMP2}, which is the orthogonal view 
of the Figure~\ref{fig:ZMP1}. On the left, (A), it is evident that shifting $R_y$ in $X$ is the only approach available
to balance the sum of moments about $Z$. On the right, (B), it is evident that shifting $R_y$ in $Z$ is the only 
approach to balance the sum of moments about $X$. Thus, $R_y$ occurs at the Zero Moment Point $(x,z)$ such that the 
sum of moments about $X$ and $Z$ is zero. The system is only dynamically stable if the ZMP$(x,z)$ exists within the 
support polygon. If the ZMP is outside the support polygon then the net torque will cause the foot to lift from the 
ground and rotate about an edge of the support polygon, thus causing the robot to fall.